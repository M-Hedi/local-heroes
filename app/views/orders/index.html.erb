<div class="tabs tabs-lift">
  <label class="tab">
    <input type="radio" name="my_tabs_4" />
    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-4 me-2"><path stroke-linecap="round" stroke-linejoin="round" d="M5.25 5.653c0-.856.917-1.398 1.667-.986l11.54 6.347a1.125 1.125 0 0 1 0 1.972l-11.54 6.347a1.125 1.125 0 0 1-1.667-.986V5.653Z" /></svg>
    A valider
  </label>
  <div class="tab-content bg-base-100 border-base-300 p-6">Tab content 1</div>

  <label class="tab">
    <input type="radio" name="my_tabs_4" checked="checked" />
    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-4 me-2"><path stroke-linecap="round" stroke-linejoin="round" d="M15.182 15.182a4.5 4.5 0 0 1-6.364 0M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0ZM9.75 9.75c0 .414-.168.75-.375.75S9 10.164 9 9.75 9.168 9 9.375 9s.375.336.375.75Zm-.375 0h.008v.015h-.008V9.75Zm5.625 0c0 .414-.168.75-.375.75s-.375-.336-.375-.75.168-.75.375-.75.375.336.375.75Zm-.375 0h.008v.015h-.008V9.75Z" /></svg>
    En cours
  </label>
  <div class="tab-content bg-base-100 border-base-300 p-6">Tab content 2</div>

  <label class="tab">
    <input type="radio" name="my_tabs_4" />
    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-4 me-2"><path stroke-linecap="round" stroke-linejoin="round" d="M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12Z" /></svg>
    Refusée
  </label>
  <div class="tab-content bg-base-100 border-base-300 p-6">Tab content 3</div>
</div>
<div class="grid grid-cols-3 grid-rows-5 gap-4">
    <% @orders.each do |order| %>
  <div class="list bg-base-100 rounded-box shadow-md">
    <h3 class="p-4 pb-2 text-md opacity-60 tracking-wide"><strong>Réservation N°<%= order.id %> - <%=order.user.first_name%> <%=order.user.last_name%></strong>
    <%=order.created_at.strftime("%d/%m/%Y")%>
    <br>
    <% total = order.items.sum { |item| item.quantity * item.product.price } %>
    </h3>

     <div class="collapse bg-base-100 border-base-300 border mx-auto w-11/12">
      <input type="checkbox" />
      <div class="collapse-title text-sm opacity-60 tracking-wide">Details</div>
      <div class="collapse-content text-xs">
        <% order.items.each do |item|%>
          <div class="flex items-center mb-2">
            <div><%= image_tag "shoes_1.jpg", class: "size-7 rounded-box mr-2" %></div>
              <div>
                <div class="text-xs opacity-60 tracking-wide"><%=item.product.name %></div>
                  <div class="text-xs opacity-60 tracking-wide"><%=item.quantity%> X <%=item.product.price%>€ Total = <%= number_to_currency(item.quantity * item.product.price, unit: "") %>€</div>
                  </div>
                  <div class="ml-auto">
                  <button class="btn btn-square btn-ghost">
                    <i class="fa-solid fa-trash"></i>
                  </button>
                  <button class="btn btn-square btn-ghost">
                    <i class="fa-solid fa-square-minus"></i>
                  </button>
                     <button class="btn btn-square btn-ghost">
                    <i class="fa-solid fa-square-plus"></i>
                  </button>
                  </div>
            </div>
        <%end%>
          </div>
        </div>
       <div class="p-4 pb-2 text-md opacity-60 tracking-wide">  <% total = order.items.sum { |item| item.quantity * item.product.price } %>
          <strong>Total: <%= number_to_currency(total, unit: "") %> €</strong>
          <br>
        </div>
          <div class="w-full flex justify-center gap-4 m-2">
            <%= button_to "Accepter", accepted_order_path(order), method: :patch, class: "btn btn-xs sm:btn-sm md:btn-md" %>
            <%= button_to "Refuser", refused_order_path(order), method: :patch, class: "btn btn-xs sm:btn-sm md:btn-md" %>
          </div>

    </div>
    <%end%>
    </div>
<div class="flex justify-between items-center mb-4">
  <ul class="list bg-base-100 rounded-box shadow-md">
    <% @orders.each do |order| %>
    <li class="p-4 pb-2 text-xs opacity-60 tracking-wide">Réservation N°<%= order.id %> - <%=order.user.first_name%> <%=order.user.last_name%>
    <br>
    <%=order.created_at.strftime("%d/%m/%Y")%>
    <br>
    <% total = order.items.sum { |item| item.quantity * item.product.price } %>
    Total de la commande : <%= number_to_currency(total, unit: "") %> €
    </li>
      <% order.items.each do |item|%>
        <li class="list-row">
        <div><%= image_tag "shoes_1.jpg", class: "size-10 rounded-box" %></div>
          <div>
            <div><%=item.product.name %></div>
              <div class="text-xs uppercase font-semibold opacity-60"><%=item.quantity%> X <%=item.product.price%> € TOTAL = <%= number_to_currency(item.quantity * item.product.price, unit: "") %> €</div>
              </div>
              <button class="btn btn-square btn-ghost">
                <svg class="size-[1.2em]" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><g stroke-linejoin="round" stroke-linecap="round" stroke-width="2" fill="none" stroke="currentColor"><path d="M6 3L20 12 6 21 6 3z"></path></g></svg>
              </button>
              <button class="btn btn-square btn-ghost">
                <svg class="size-[1.2em]" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><g stroke-linejoin="round" stroke-linecap="round" stroke-width="2" fill="none" stroke="currentColor"><path d="M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z"></path></g></svg>
              </button>
        </li>
       <%end%>
       <li class="p-4 pb-2 text-xs opacity-60 tracking-wide">  <% total = order.items.sum { |item| item.quantity * item.product.price } %>
    Total de la commande : <%= number_to_currency(total, unit: "") %> €
    <br>
    <button class="btn btn-xs sm:btn-sm md:btn-md lg:btn-lg xl:btn-xl">Accepter</button>
    <button class="btn btn-xs sm:btn-sm md:btn-md lg:btn-lg xl:btn-xl">Refuser</button>
</li>
    <%end%>
  </ul>
    </div>
